<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>heka-fire-upload demo</title>
    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="import" href="../../polymerfire/firebase-auth.html">
    <link rel="import" href="../heka-fire.html">
    <link rel="import" href="../heka-fire-list.html">
    <link rel="import" href="../heka-fire-upload.html">



    <style is="custom-style" include="demo-pages-shared-styles">
      app-header span {
        margin: 16px;
      }
    </style>
  </head>
  <body unresolved>
    <template is="dom-bind">
      <app-header condenses fixed effects="resize-title blend-background waterfall">
        <span>Accepts file uploads and sends them to Firebase.</span>
      </app-header>
      <heka-fire
        id="app"
        name="heka-house"
        api-key="AIzaSyAM7IlkZhK9aqSmMgBtQ8KqoCb1OAtCBow"
        auth-domain="heka-house-polymer-demos.firebaseapp.com"
        database-url="https://heka-house-polymer-demos.firebaseio.com"
        storage-bucket="heka-house-polymer-demos.appspot.com"
        app="{{app}}">
      </heka-fire>
      <firebase-auth
        id="auth"
        app-name="heka-house"
        user="{{user}}"></firebase-auth>
      <heka-fire-upload
        id="store"
        app="[[app]]"
        app-name="heka-house"
        key="demo"
        path="public"
        storage="{{storage}}"
        uploaded-by="[[user.uid]]"
        label="drop file to upload"></heka-fire-upload>
      <h2>Most Recent Upload</h2>
      <heka-fire-list
        app-name="heka-house"
        user="[[user]]"
        app="[[app]]"
        route="default"
        path="default"
        firebase-branch="/public/demo/upload"
        limit-to-last="1">
      </heka-fire-list>
  </template>
  <script type="text/javascript">
    document.addEventListener('WebComponentsReady', function() {
      document.querySelector('firebase-auth').signInAnonymously();
    });
  </script>
</body>
</html>
